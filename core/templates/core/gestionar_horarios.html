<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Mis Horarios</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light p-4">

    <div class="container bg-white p-5 rounded shadow">
        <div class="d-flex justify-content-between mb-4">
            <h2>ğŸ“… Gestionar mi Disponibilidad</h2>
            <a href="{% url 'panel_asesor' %}" class="btn btn-secondary">Volver al Panel</a>
        </div>

        <div class="card mb-4 bg-light border-0">
            <div class="card-body">
                <h5 class="mb-3">â• Agregar Nuevo Horario</h5>
                <form method="post" class="row g-3 align-items-end">
                    {% csrf_token %}
                    
                    <div class="col-md-4">
                        <label class="form-label">Fecha:</label>
                        <input type="date" name="fecha" class="form-control" required>
                    </div>

                    <div class="col-md-4">
                        <label class="form-label">Hora:</label>
                        <input type="time" name="hora" class="form-control" required>
                    </div>

                    <div class="col-md-4">
                        <button type="submit" class="btn btn-success w-100 fw-bold">Guardar Disponibilidad</button>
                    </div>
                </form>
            </div>
        </div>

        <h5 class="mb-3">Mis Horarios Publicados:</h5>
        {% if horarios %}
            <ul class="list-group">
                {% for h in horarios %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        <span>
                            ğŸ“… <strong>{{ h.start_datetime|date:"l d F" }}</strong> - 
                            â° {{ h.start_datetime|date:"H:i" }} hrs
                        </span>
                        
                        <a href="{% url 'borrar_horario' h.id %}" class="btn btn-sm btn-outline-danger" onclick="return confirm('Â¿EstÃ¡s seguro de borrar este horario?');">
                            ğŸ—‘ï¸ Eliminar
                        </a>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <div class="alert alert-warning text-center">
                No tienes horarios disponibles. <strong>Â¡Agrega uno arriba ğŸ‘† para que los clientes te vean!</strong>
            </div>
        {% endif %}
    </div>

</body>
</html>